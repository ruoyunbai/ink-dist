import{d as q,r as U,a as D,b as u,o as C,c as I,e,w as t,f as r,t as R,u as d,g as V,h as G,_ as M,i as W,j as H,k as K,l as x,F as L,N as Q,m as X,n as Y,p as Z,q as ee}from"./index.324391ea.js";const te={class:"user",style:{background:"#EDF5ED"}},oe={class:"name",style:{margin:"20px 10px 10px 30px"}},le={class:"state",style:{margin:"0px 10px 10px 30px"}},ae=r("div",{style:{height:"15px"}},null,-1),ne=r("p",{class:"buttonText2"},"\u8FDB\u5165\u9879\u76EE",-1),ue=r("p",{class:"buttonText2"},"\u7F16\u8F91\u4FE1\u606F",-1),se=r("p",{class:"buttonText2"},"\u5220\u9664\u9879\u76EE",-1),de={class:"dialog-footer"},re=V("\u53D6\u6D88"),ie=V("\u786E\u5B9A"),T=q({setup(F){const E=()=>{console.log("route")},g=U(!1),f="140px",c=D({name:"\u672A\u547D\u540D\u9879\u76EE",region:"\u6682\u65E0\u9879\u76EE\u63CF\u8FF0"});return(m,s)=>{const v=u("router-link"),p=u("n-button"),j=u("el-input"),y=u("el-form-item"),i=u("el-form"),o=u("el-button"),l=u("el-dialog"),a=u("n-space");return C(),I("div",te,[e(a,{vertical:""},{default:t(()=>[r("p",oe,R(d(c).name),1),r("p",le,R(d(c).region),1),ae,e(p,{round:"",size:"large",color:"#DADADA",ghost:"",onClick:E},{default:t(()=>[e(v,{to:"/projectDetail",style:{"text-decoration":"none"}},{default:t(()=>[ne]),_:1})]),_:1}),e(p,{round:"",size:"large",color:"#DADADA",ghost:"",style:{margin:"5px 10px 5px 10px"},onClick:s[0]||(s[0]=n=>g.value=!0)},{default:t(()=>[ue]),_:1}),e(p,{round:"",size:"large",color:"#DADADA",ghost:"",style:{margin:"0px 10px 10px 10px"},onClick:s[1]||(s[1]=()=>{})},{default:t(()=>[se]),_:1}),e(l,{modelValue:g.value,"onUpdate:modelValue":s[6]||(s[6]=n=>g.value=n),title:"\u4FEE\u6539\u9879\u76EE\u4FE1\u606F"},{footer:t(()=>[r("span",de,[e(o,{onClick:s[4]||(s[4]=n=>g.value=!1)},{default:t(()=>[re]),_:1}),e(o,{type:"primary",onClick:s[5]||(s[5]=n=>g.value=!1)},{default:t(()=>[ie]),_:1})])]),default:t(()=>[e(i,{model:d(c)},{default:t(()=>[e(y,{label:"\u9879\u76EE\u540D\u79F0","label-width":f},{default:t(()=>[e(j,{modelValue:d(c).name,"onUpdate:modelValue":s[2]||(s[2]=n=>d(c).name=n),autocomplete:"off",placeholder:"\u8BF7\u8F93\u5165\u9879\u76EE\u540D\u79F0"},null,8,["modelValue"])]),_:1}),e(y,{label:"\u9879\u76EE\u63CF\u8FF0","label-width":f},{default:t(()=>[e(j,{modelValue:d(c).region,"onUpdate:modelValue":s[3]||(s[3]=n=>d(c).region=n),placeholder:"\u8BF7\u8F93\u5165\u9879\u76EE\u63CF\u8FF0"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])]),_:1})])}}}),pe=G("Project",{state:()=>({group_id:0,proj_id:0,proj_info:"string",proj_name:"string",status:0,user_id:0})});const k=F=>(Z("data-v-7d510918"),F=F(),ee(),F),_e=k(()=>r("div",{style:{height:"10px"}},null,-1)),ce=k(()=>r("div",{class:"commonText"}," \u65B0\u5EFA\u9879\u76EE ",-1)),ge=k(()=>r("div",{class:"headTitle",style:{"text-align":"left"}}," \u2003 ",-1)),fe=k(()=>r("div",{class:"headTitle",style:{"text-align":"left"}},[r("div",{style:{margin:"0px 0px 0px 50px"}}," \u6211\u7684\u9879\u76EE ")],-1)),me={class:"dialog-footer"},xe=V("\u53D6\u6D88"),ve=V("\u786E\u5B9A"),Ee=q({setup(F){U(""),pe();const E=W(),g=H(),f=U(!1),c="140px",m=D({name:"",region:""});K(()=>{j(),console.log("1")});let s=0,v;const p=D([]),j=(i=!0)=>{x({url:x.defaults.baseURL+"/group/get_groups",method:"post",headers:{"Content-Type":"application/json",Authorization:E.token},data:{},transformRequest:[function(o,l){let a=JSON.stringify(o);return console.log(a),a}]}).then(function(o){var l;(l=o.data)!=null&&l.success&&(v=o.data.groups[0].GroupID,console.log("groupsID",o.data.groups[0].GroupID))}),x({url:x.defaults.baseURL+"/group/get_groups",method:"post",headers:{"Content-Type":"application/json",Authorization:E.token},data:{},transformRequest:[function(o,l){let a=JSON.stringify(o);return console.log(a),a}]}).then(function(o){var l,a;if((l=o.data)!=null&&l.success){if(s=(a=o.data)==null?void 0:a.count,console.log(o.data),i)for(;p.length!=0;)p.pop();o.data!=null&&(v=o.data.groups[0].groupID),console.log("one_group_id"+v)}console.log(o.data)}),x({url:x.defaults.baseURL+"/proj/get_proj_all",method:"post",headers:{"Content-Type":"application/json",Authorization:E.token},data:{group_id:v},transformRequest:[function(o,l){let a=JSON.stringify(o);return console.log(a),a}]}).then(function(o){var l,a;if((l=o.data)!=null&&l.success){s=(a=o.data)==null?void 0:a.count,console.log(o.data);let n=0;if(i)for(;p.length!=0;)p.pop();if(o.data!=null)for(n=0;n<s;n++){let b=D({group_id:o.data.projs[n].group_id,proj_id:o.data.projs[n].proj_id,proj_info:o.data.projs[n].proj_info,proj_name:o.data.projs[n].proj_name,status:o.data.projs[n].status,user_id:o.data.projs[n].user_id});p.push(b)}console.log(p)}console.log(o.data)})},y=()=>{x({url:x.defaults.baseURL+"/proj/create_proj",method:"post",headers:{"Content-Type":"application/json",Authorization:E.token},data:{group_id:v,proj_info:m.region,proj_name:m.name},transformRequest:[function(i,o){let l=JSON.stringify(i);return console.log(l),l}]}).then(function(i){var o,l;console.log(i.data),(o=i.data)!=null&&o.success?(g.success("\u521B\u5EFA\u6210\u529F"),j(),console.log("2"),f.value=!1):g.error((l=i.data)==null?void 0:l.message),console.log(i.data)})};return(i,o)=>{const l=u("n-gi"),a=u("n-image"),n=u("n-icon"),b=u("el-button"),h=u("n-grid"),A=u("n-divider"),w=u("n-collapse-item"),B=u("n-collapse"),$=u("n-layout"),S=u("n-grid-item"),J=u("n-space"),z=u("el-input"),N=u("el-form-item"),O=u("el-form"),P=u("el-dialog");return C(),I(L,null,[e(J,{vertical:"",size:"large"},{default:t(()=>[_e,e(h,{"x-gap":"12",cols:16},{default:t(()=>[e(l,{span:"7"}),e(l,{span:"5"},{default:t(()=>[e(d(Q),{ref:"inputInstRef",placeholder:"\u641C\u7D22\u9879\u76EE",clearable:"",round:"",size:"large",style:{"margin-left":"19px"}},{prefix:t(()=>[e(a,{src:"svg\\project_svg\\search.svg"})]),_:1},512)]),_:1}),e(l,{span:"1"}),e(l,{span:"3"},{default:t(()=>[e(b,{round:"",color:"#2772F0",size:"large",onClick:o[0]||(o[0]=_=>f.value=!0)},{icon:t(()=>[e(n,null,{default:t(()=>[e(a,{src:"svg\\project_svg\\plus.svg"})]),_:1})]),default:t(()=>[ce]),_:1})]),_:1})]),_:1}),ge,fe,e(h,{"x-gap":"5",cols:30},{default:t(()=>[e(l,{span:"1"}),e(l,{span:"28"},{default:t(()=>[e($,{class:"bg",bordered:"false","content-style":"padding: 30px 30px 30px 30px;"},{default:t(()=>[e(B,null,{arrow:t(()=>[e(n,null,{default:t(()=>[e(a,{"preview-disabled":"",src:"svg\\project_svg\\folder.svg"})]),_:1})]),default:t(()=>[e(w,{title:"\u2003\u5168\u90E8\u9879\u76EE"},{"header-extra":t(()=>[e(a,{"preview-disabled":"",src:"svg\\project_svg\\sort.svg"})]),default:t(()=>[e(A),(C(!0),I(L,null,X(d(p),(_,he)=>(C(),Y(T,{key:_.project_id,"one-project":_},null,8,["one-project"]))),128))]),_:1})]),_:1})]),_:1})]),_:1}),e(l,{span:"1"})]),_:1}),e(h,{"x-gap":"5",cols:30},{default:t(()=>[e(l,{span:"1"}),e(l,{span:"28"},{default:t(()=>[e($,{class:"bg",bordered:"false","content-style":"padding: 30px 30px 30px 30px;"},{default:t(()=>[e(B,null,{arrow:t(()=>[e(n,null,{default:t(()=>[e(a,{"preview-disabled":"",src:"svg\\project_svg\\folder.svg"})]),_:1})]),default:t(()=>[e(w,{title:"\u2003\u6211\u521B\u5EFA\u7684"},{"header-extra":t(()=>[e(a,{"preview-disabled":"",src:"svg\\project_svg\\sort.svg"})]),default:t(()=>[e(A),e(h,{"x-gap":"20px","y-gap":"20px",cols:"2 s:3 m:4 l:5 xl:6 2xl:7",responsive:"screen"},{default:t(()=>[e(S,null,{default:t(()=>[e(T)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(l,{span:"1"})]),_:1}),e(h,{"x-gap":"5",cols:30},{default:t(()=>[e(l,{span:"1"}),e(l,{span:"28"},{default:t(()=>[e($,{class:"bg",bordered:"false","content-style":"padding: 30px 30px 30px 30px;"},{default:t(()=>[e(B,null,{arrow:t(()=>[e(n,null,{default:t(()=>[e(a,{"preview-disabled":"",src:"svg\\project_svg\\folder.svg"})]),_:1})]),default:t(()=>[e(w,{title:"\u2003\u6211\u53C2\u4E0E\u7684"},{"header-extra":t(()=>[e(a,{"preview-disabled":"",src:"svg\\project_svg\\sort.svg"})]),default:t(()=>[e(A),e(h,{"x-gap":"20px","y-gap":"20px",cols:"2 s:3 m:4 l:5 xl:6 2xl:7",responsive:"screen"},{default:t(()=>[e(S,null,{default:t(()=>[e(T)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(l,{span:"1"})]),_:1})]),_:1}),e(P,{modelValue:f.value,"onUpdate:modelValue":o[5]||(o[5]=_=>f.value=_),title:"\u65B0\u5EFA\u9879\u76EE\u4FE1\u606F"},{footer:t(()=>[r("span",me,[e(b,{onClick:o[3]||(o[3]=_=>f.value=!1)},{default:t(()=>[xe]),_:1}),e(b,{type:"primary",onClick:o[4]||(o[4]=_=>y())},{default:t(()=>[ve]),_:1})])]),default:t(()=>[e(O,{model:d(m)},{default:t(()=>[e(N,{label:"\u9879\u76EE\u540D\u79F0","label-width":c},{default:t(()=>[e(z,{modelValue:d(m).name,"onUpdate:modelValue":o[1]||(o[1]=_=>d(m).name=_),autocomplete:"off",placeholder:"\u8BF7\u8F93\u5165\u9879\u76EE\u540D\u79F0"},null,8,["modelValue"])]),_:1}),e(N,{label:"\u9879\u76EE\u63CF\u8FF0","label-width":c},{default:t(()=>[e(z,{modelValue:d(m).region,"onUpdate:modelValue":o[2]||(o[2]=_=>d(m).region=_),placeholder:"\u8BF7\u8F93\u5165\u9879\u76EE\u63CF\u8FF0"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}}});var je=M(Ee,[["__scopeId","data-v-7d510918"]]);export{je as default};
