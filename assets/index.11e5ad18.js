import{_ as H,d as V,c as M,O as j,r as c,t as L,b as O,e as T,K as Y,g as l,C as J,j as n,n as $,i as a,k as o,a3 as y,a4 as b,l as G,p as Q,m as X,q as Z,f as x}from"./index.f1022d15.js";import{_ as ee}from"./index.42b94961.js";const r=m=>(Q("data-v-533861c7"),m=m(),X(),m),te=r(()=>o("div",{style:{height:"80px"}},null,-1)),ae=r(()=>o("div",{style:{width:"80px"}},null,-1)),ue=r(()=>o("div",{class:"title"},"\u6CE8\u518C",-1)),ne=r(()=>o("div",{style:{height:"15px"}},null,-1)),le=r(()=>o("div",{style:{width:"80px"}},null,-1)),oe=r(()=>o("div",{class:"subtitle"},"\u52A0\u5165\u58A8\u4E66\uFF0C\u4E0E\u56E2\u961F\u4E00\u8D77\u9AD8\u6548\u5408\u4F5C",-1)),se=r(()=>o("div",{style:{height:"20px"}},null,-1)),re=r(()=>o("div",{style:{width:"80px"}},null,-1)),de={style:{width:"400px"}},ie=Z(" \u6CE8\u518C "),pe=V({setup(m){const P=M(),F=j(()=>["@buaa.edu.cn","@126.com","@gmail.com","@163.com","@qq.com"].map(u=>{const v=(e.value.email===null||e.value.email===void 0?"":e.value.email).split("@")[0];return{label:v+u,value:v+u}})),B=c(null),C=c(null),e=c({name:null,email:void 0,password:null,reenteredPassword:null}),D={name:[{required:!0,validator(u,t){return t?!0:new Error("\u9700\u8981\u7528\u6237\u540D")},trigger:["input","blur"]}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"}],reenteredPassword:[{required:!0,message:"\u8BF7\u518D\u6B21\u8F93\u5165\u5BC6\u7801",trigger:["input","blur"]},{validator:(u,t)=>!!e.value.password&&e.value.password.startsWith(t)&&e.value.password.length>=t.length,message:"\u4E24\u6B21\u5BC6\u7801\u8F93\u5165\u4E0D\u4E00\u81F4",trigger:"input"},{validator:(u,t)=>t===e.value.password,message:"\u4E24\u6B21\u5BC6\u7801\u8F93\u5165\u4E0D\u4E00\u81F4",trigger:["blur","password-input"]}]},k=()=>{var u;e.value.reenteredPassword&&((u=C.value)==null||u.validate({trigger:"password-input"}))},I=L(),R=O(),S=u=>{var t;u.preventDefault(),(t=B.value)==null||t.validate(v=>{v||x({url:x.defaults.baseURL+"/register",method:"post",headers:{"Content-Type":"application/json",Authorization:P.token},data:{username:e.value.name,password:e.value.password,email:e.value.email},transformRequest:[function(s,d){return JSON.stringify(s)}]}).then(function(s){var d,i;console.log(s.data),(d=s.data)!=null&&d.success?I.push("logIn"):R.error((i=s.data)==null?void 0:i.message)})})},g=c(500),h=c(500),_=c(500),f=c(500);return T(()=>{let u=document.body.parentNode;u!=null&&(u.style.overflowY="hidden"),_.value=document.documentElement.clientWidth,f.value=document.documentElement.clientHeight,window.onresize=()=>{_.value=document.documentElement.clientWidth,f.value=document.documentElement.clientHeight,h.value=_.value*.54,g.value=f.value*.907},h.value=_.value*.54,g.value=f.value*.907}),Y(()=>{let u=document.body.parentNode;u!=null&&(u.style.overflowY="auto")}),(u,t)=>{const v=l("n-image"),s=l("n-gi"),d=l("n-space"),i=l("n-input"),w=l("n-form-item"),U=l("n-auto-complete"),q=l("n-button"),A=l("n-col"),W=l("n-row"),N=l("n-form"),K=l("n-grid"),E=l("n-layout-content"),z=l("n-layout");return $(),J(z,null,{default:n(()=>[a(ee,{Login:!1,Register:!0}),a(E,{"content-style":"background:rgb(245,181,68,0.1);"},{default:n(()=>[a(K,{cols:"2"},{default:n(()=>[a(s,null,{default:n(()=>[a(v,{"preview-disabled":"",width:h.value,height:g.value,src:"svg\\signUp\\Illustration.svg"},null,8,["width","height"])]),_:1}),a(s,null,{default:n(()=>[te,a(d,null,{default:n(()=>[ae,ue]),_:1}),ne,a(d,null,{default:n(()=>[le,oe]),_:1}),se,a(d,null,{default:n(()=>[re,o("div",de,[a(N,{size:"large","show-label":!1,ref_key:"formRef",ref:B,model:e.value,rules:D},{default:n(()=>[a(w,{path:"name",label:"\u7528\u6237\u540D"},{default:n(()=>[a(i,{value:e.value.name,"onUpdate:value":t[0]||(t[0]=p=>e.value.name=p),placeholder:"\u7528\u6237\u540D",onKeydown:t[1]||(t[1]=y(b(()=>{},["prevent"]),["enter"]))},null,8,["value"])]),_:1}),a(w,{path:"email",label:"\u90AE\u7BB1"},{default:n(()=>[a(U,{value:e.value.email,"onUpdate:value":t[2]||(t[2]=p=>e.value.email=p),options:G(F),"blur-after-select":"",placeholder:"\u90AE\u7BB1"},null,8,["value","options"])]),_:1}),a(w,{path:"password",label:"\u5BC6\u7801"},{default:n(()=>[a(i,{value:e.value.password,"onUpdate:value":t[3]||(t[3]=p=>e.value.password=p),type:"password",onInput:k,onKeydown:t[4]||(t[4]=y(b(()=>{},["prevent"]),["enter"])),placeholder:"\u5BC6\u7801"},null,8,["value"])]),_:1}),a(w,{ref_key:"rPasswordFormItemRef",ref:C,first:"",path:"reenteredPassword",label:"\u91CD\u590D\u5BC6\u7801"},{default:n(()=>[a(i,{value:e.value.reenteredPassword,"onUpdate:value":t[5]||(t[5]=p=>e.value.reenteredPassword=p),disabled:e.value.password==""||e.value.password==null,type:"password",onKeydown:t[6]||(t[6]=y(b(()=>{},["prevent"]),["enter"])),placeholder:"\u786E\u8BA4\u5BC6\u7801"},null,8,["value","disabled"])]),_:1},512),a(W,{gutter:[0,24]},{default:n(()=>[a(A,{span:24},{default:n(()=>[o("div",null,[a(q,{size:"large",block:"",disabled:e.value.name===null||e.value.password==null||e.value.reenteredPassword==null||e.value.reenteredPassword!=e.value.password,round:"",type:"warning",onClick:S},{default:n(()=>[ie]),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1})]),_:1})]),_:1}),a(E,{"content-style":"padding: 24px;"})]),_:1})}}});var fe=H(pe,[["__scopeId","data-v-533861c7"]]);export{fe as default};
