import{d as q,r as U,a as V,b as n,o as k,c as I,e,w as t,f as i,t as R,u as d,g as A,h as G,_ as M,i as W,j as H,k as K,l as E,F as L,N as Q,m as X,n as Y,p as Z,q as ee}from"./index.6dcb7194.js";const te={class:"user",style:{background:"#EDF5ED"}},oe={class:"name",style:{margin:"20px 10px 10px 30px"}},le={class:"state",style:{margin:"0px 10px 10px 30px"}},ae=i("div",{style:{height:"15px"}},null,-1),ne=i("p",{class:"buttonText2"},"\u8FDB\u5165\u9879\u76EE",-1),se=i("p",{class:"buttonText2"},"\u7F16\u8F91\u4FE1\u606F",-1),ue=i("p",{class:"buttonText2"},"\u5220\u9664\u9879\u76EE",-1),de={class:"dialog-footer"},re=A("\u53D6\u6D88"),ie=A("\u786E\u5B9A"),T=q({setup(j){const b=()=>{console.log("route")},m=U(!1),x="140px",f=V({name:"\u9879\u76EE1",region:"\u9879\u76EE\u63CF\u8FF0"});return(v,u)=>{const h=n("router-link"),c=n("n-button"),y=n("el-input"),C=n("el-form-item"),p=n("el-form"),o=n("el-button"),l=n("el-dialog"),s=n("n-space");return k(),I("div",te,[e(s,{vertical:""},{default:t(()=>[i("p",oe,R(d(f).name),1),i("p",le,R(d(f).region),1),ae,e(c,{round:"",size:"large",color:"#DADADA",ghost:"",onClick:b},{default:t(()=>[e(h,{to:"/projectDetail",style:{"text-decoration":"none"}},{default:t(()=>[ne]),_:1})]),_:1}),e(c,{round:"",size:"large",color:"#DADADA",ghost:"",style:{margin:"5px 10px 5px 10px"},onClick:u[0]||(u[0]=a=>m.value=!0)},{default:t(()=>[se]),_:1}),e(c,{round:"",size:"large",color:"#DADADA",ghost:"",style:{margin:"0px 10px 10px 10px"},onClick:u[1]||(u[1]=()=>{})},{default:t(()=>[ue]),_:1}),e(l,{modelValue:m.value,"onUpdate:modelValue":u[6]||(u[6]=a=>m.value=a),title:"\u4FEE\u6539\u9879\u76EE\u4FE1\u606F"},{footer:t(()=>[i("span",de,[e(o,{onClick:u[4]||(u[4]=a=>m.value=!1)},{default:t(()=>[re]),_:1}),e(o,{type:"primary",onClick:u[5]||(u[5]=a=>m.value=!1)},{default:t(()=>[ie]),_:1})])]),default:t(()=>[e(p,{model:d(f)},{default:t(()=>[e(C,{label:"\u9879\u76EE\u540D\u79F0","label-width":x},{default:t(()=>[e(y,{modelValue:d(f).name,"onUpdate:modelValue":u[2]||(u[2]=a=>d(f).name=a),autocomplete:"off",placeholder:"\u8BF7\u8F93\u5165\u9879\u76EE\u540D\u79F0"},null,8,["modelValue"])]),_:1}),e(C,{label:"\u9879\u76EE\u63CF\u8FF0","label-width":x},{default:t(()=>[e(y,{modelValue:d(f).region,"onUpdate:modelValue":u[3]||(u[3]=a=>d(f).region=a),placeholder:"\u8BF7\u8F93\u5165\u9879\u76EE\u63CF\u8FF0"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])]),_:1})])}}}),pe=G("Project",{state:()=>({group_id:0,proj_id:0,proj_info:"string",proj_name:"string",status:0,user_id:0})});const w=j=>(Z("data-v-35dbeb6e"),j=j(),ee(),j),_e=w(()=>i("div",{style:{height:"10px"}},null,-1)),ce=w(()=>i("div",{class:"commonText"}," \u65B0\u5EFA\u9879\u76EE ",-1)),ge=w(()=>i("div",{class:"headTitle",style:{"text-align":"left"}}," \u2003 ",-1)),fe=w(()=>i("div",{class:"headTitle",style:{"text-align":"left"}},[i("div",{style:{margin:"0px 0px 0px 50px"}}," \u6211\u7684\u9879\u76EE ")],-1)),me={class:"dialog-footer"},xe=A("\u53D6\u6D88"),ve=A("\u786E\u5B9A"),Ee=q({setup(j){U(""),pe();const b=W(),m=H(),x=U(!1),f="140px",v=V({name:"",region:""});K(()=>{y(),console.log("1")});let u=0,h;const c=V([]),y=(p=!0)=>{E({url:E.defaults.baseURL+"/group/get_groups",method:"post",headers:{"Content-Type":"application/json",Authorization:b.token},data:{},transformRequest:[function(o,l){let s=JSON.stringify(o);return console.log(s),s}]}).then(function(o){var l;(l=o.data)!=null&&l.success&&(h=o.data.groups[0].GroupID,console.log("groupsID",o.data.groups[0].GroupID))}),E({url:E.defaults.baseURL+"/group/get_groups",method:"post",headers:{"Content-Type":"application/json",Authorization:b.token},data:{},transformRequest:[function(o,l){let s=JSON.stringify(o);return console.log(s),s}]}).then(function(o){var l,s;if((l=o.data)!=null&&l.success){if(u=(s=o.data)==null?void 0:s.count,console.log(o.data),p)for(;c.length!=0;)c.pop();o.data!=null&&(h=o.data.groups[0].groupID),console.log("one_group_id"+h),E({url:E.defaults.baseURL+"/proj/get_proj_all",method:"post",headers:{"Content-Type":"application/json",Authorization:b.token},data:{group_id:h},transformRequest:[function(a,F){let _=JSON.stringify(a);return console.log(_),_}]}).then(function(a){var F,_;if((F=a.data)!=null&&F.success){u=(_=a.data)==null?void 0:_.count,console.log(a.data);let r=0;if(p)for(;c.length!=0;)c.pop();if(a.data!=null)for(r=0;r<u;r++){let D=V({group_id:a.data.projs[r].group_id,proj_id:a.data.projs[r].proj_id,proj_info:a.data.projs[r].proj_info,proj_name:a.data.projs[r].proj_name,status:a.data.projs[r].status,user_id:a.data.projs[r].user_id});c.push(D)}console.log(c)}console.log(a.data)})}console.log(o.data)})},C=()=>{E({url:E.defaults.baseURL+"/proj/create_proj",method:"post",headers:{"Content-Type":"application/json",Authorization:b.token},data:{group_id:h,proj_info:v.region,proj_name:v.name},transformRequest:[function(p,o){let l=JSON.stringify(p);return console.log(l),l}]}).then(function(p){var o,l;console.log(p.data),(o=p.data)!=null&&o.success?(m.success("\u521B\u5EFA\u6210\u529F"),y(),console.log("2"),x.value=!1):m.error((l=p.data)==null?void 0:l.message),console.log(p.data)})};return(p,o)=>{const l=n("n-gi"),s=n("n-image"),a=n("n-icon"),F=n("el-button"),_=n("n-grid"),r=n("n-divider"),D=n("n-collapse-item"),B=n("n-collapse"),$=n("n-layout"),S=n("n-grid-item"),J=n("n-space"),z=n("el-input"),N=n("el-form-item"),O=n("el-form"),P=n("el-dialog");return k(),I(L,null,[e(J,{vertical:"",size:"large"},{default:t(()=>[_e,e(_,{"x-gap":"12",cols:16},{default:t(()=>[e(l,{span:"7"}),e(l,{span:"5"},{default:t(()=>[e(d(Q),{ref:"inputInstRef",placeholder:"\u641C\u7D22\u9879\u76EE",clearable:"",round:"",size:"large",style:{"margin-left":"19px"}},{prefix:t(()=>[e(s,{src:"svg\\project_svg\\search.svg"})]),_:1},512)]),_:1}),e(l,{span:"1"}),e(l,{span:"3"},{default:t(()=>[e(F,{round:"",color:"#2772F0",size:"large",onClick:o[0]||(o[0]=g=>x.value=!0)},{icon:t(()=>[e(a,null,{default:t(()=>[e(s,{src:"svg\\project_svg\\plus.svg"})]),_:1})]),default:t(()=>[ce]),_:1})]),_:1})]),_:1}),ge,fe,e(_,{"x-gap":"5",cols:30},{default:t(()=>[e(l,{span:"1"}),e(l,{span:"28"},{default:t(()=>[e($,{class:"bg",bordered:"false","content-style":"padding: 30px 30px 30px 30px;"},{default:t(()=>[e(B,null,{arrow:t(()=>[e(a,null,{default:t(()=>[e(s,{"preview-disabled":"",src:"svg\\project_svg\\folder.svg"})]),_:1})]),default:t(()=>[e(D,{title:"\u2003\u5168\u90E8\u9879\u76EE"},{"header-extra":t(()=>[e(s,{"preview-disabled":"",src:"svg\\project_svg\\sort.svg"})]),default:t(()=>[e(r),(k(!0),I(L,null,X(d(c),(g,he)=>(k(),Y(T,{key:g.project_id,"one-project":g},null,8,["one-project"]))),128))]),_:1})]),_:1})]),_:1})]),_:1}),e(l,{span:"1"})]),_:1}),e(_,{"x-gap":"5",cols:30},{default:t(()=>[e(l,{span:"1"}),e(l,{span:"28"},{default:t(()=>[e($,{class:"bg",bordered:"false","content-style":"padding: 30px 30px 30px 30px;"},{default:t(()=>[e(B,null,{arrow:t(()=>[e(a,null,{default:t(()=>[e(s,{"preview-disabled":"",src:"svg\\project_svg\\folder.svg"})]),_:1})]),default:t(()=>[e(D,{title:"\u2003\u6211\u521B\u5EFA\u7684"},{"header-extra":t(()=>[e(s,{"preview-disabled":"",src:"svg\\project_svg\\sort.svg"})]),default:t(()=>[e(r),e(_,{"x-gap":"20px","y-gap":"20px",cols:"2 s:3 m:4 l:5 xl:6 2xl:7",responsive:"screen"},{default:t(()=>[e(S,null,{default:t(()=>[e(T)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(l,{span:"1"})]),_:1}),e(_,{"x-gap":"5",cols:30},{default:t(()=>[e(l,{span:"1"}),e(l,{span:"28"},{default:t(()=>[e($,{class:"bg",bordered:"false","content-style":"padding: 30px 30px 30px 30px;"},{default:t(()=>[e(B,null,{arrow:t(()=>[e(a,null,{default:t(()=>[e(s,{"preview-disabled":"",src:"svg\\project_svg\\folder.svg"})]),_:1})]),default:t(()=>[e(D,{title:"\u2003\u6211\u53C2\u4E0E\u7684"},{"header-extra":t(()=>[e(s,{"preview-disabled":"",src:"svg\\project_svg\\sort.svg"})]),default:t(()=>[e(r),e(_,{"x-gap":"20px","y-gap":"20px",cols:"2 s:3 m:4 l:5 xl:6 2xl:7",responsive:"screen"},{default:t(()=>[e(S,null,{default:t(()=>[e(T)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(l,{span:"1"})]),_:1})]),_:1}),e(P,{modelValue:x.value,"onUpdate:modelValue":o[5]||(o[5]=g=>x.value=g),title:"\u65B0\u5EFA\u9879\u76EE\u4FE1\u606F"},{footer:t(()=>[i("span",me,[e(F,{onClick:o[3]||(o[3]=g=>x.value=!1)},{default:t(()=>[xe]),_:1}),e(F,{type:"primary",onClick:o[4]||(o[4]=g=>C())},{default:t(()=>[ve]),_:1})])]),default:t(()=>[e(O,{model:d(v)},{default:t(()=>[e(N,{label:"\u9879\u76EE\u540D\u79F0","label-width":f},{default:t(()=>[e(z,{modelValue:d(v).name,"onUpdate:modelValue":o[1]||(o[1]=g=>d(v).name=g),autocomplete:"off",placeholder:"\u8BF7\u8F93\u5165\u9879\u76EE\u540D\u79F0"},null,8,["modelValue"])]),_:1}),e(N,{label:"\u9879\u76EE\u63CF\u8FF0","label-width":f},{default:t(()=>[e(z,{modelValue:d(v).region,"onUpdate:modelValue":o[2]||(o[2]=g=>d(v).region=g),placeholder:"\u8BF7\u8F93\u5165\u9879\u76EE\u63CF\u8FF0"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}}});var be=M(Ee,[["__scopeId","data-v-35dbeb6e"]]);export{be as default};
