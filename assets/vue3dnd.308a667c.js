import{C as Ke,D as Ze,d as x,G as et,H as I,I as tt,u as c,s as y,r as Ee,a as _e,_ as Pe,J as rt,o as E,c as A,K as nt,L as it,b as q,e as w,w as C,F as ot,m as st,n as Q,g as at,t as ut,p as ct,q as lt,f as N}from"./index.6dcb7194.js";function ce(t,e,r){return Array.isArray(t)?(t.length=Math.max(t.length,e),t.splice(e,1,r),r):(t[e]=r,r)}var Ne=Symbol("DndContextType");function dt(t){Ke(Ne,t)}function ft(){return Ze(Ne)}var b;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(b||(b={}));function d(t,e,...r){if(gt()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;n=new Error(e.replace(/%s/g,function(){return r[i++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function gt(){return typeof process!="undefined"&&process.env.NODE_ENV==="production"}const te="dnd-core/INIT_COORDS",H="dnd-core/BEGIN_DRAG",re="dnd-core/PUBLISH_DRAG_SOURCE",$="dnd-core/HOVER",j="dnd-core/DROP",F="dnd-core/END_DRAG";function le(t,e){return{type:te,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}function ht(t,e,r){return e.split(".").reduce((n,i)=>n&&n[i]?n[i]:r||null,t)}function pt(t,e){return t.filter(r=>r!==e)}function xe(t){return typeof t=="object"}function vt(t,e){const r=new Map,n=o=>{r.set(o,r.has(o)?r.get(o)+1:1)};t.forEach(n),e.forEach(n);const i=[];return r.forEach((o,s)=>{o===1&&i.push(s)}),i}function mt(t,e){return t.filter(r=>e.indexOf(r)>-1)}const yt={type:te,payload:{clientOffset:null,sourceClientOffset:null}};function Dt(t){return function(r=[],n={publishSource:!0}){const{publishSource:i=!0,clientOffset:o,getSourceClientOffset:s}=n,a=t.getMonitor(),u=t.getRegistry();t.dispatch(le(o)),St(r,a,u);const l=bt(r,a);if(l==null){t.dispatch(yt);return}let g=null;if(o){if(!s)throw new Error("getSourceClientOffset must be defined");Tt(s),g=s(l)}t.dispatch(le(o,g));const p=u.getSource(l).beginDrag(a,l);if(p==null)return;Ot(p),u.pinSource(l);const f=u.getSourceType(l);return{type:H,payload:{itemType:f,item:p,sourceId:l,clientOffset:o||null,sourceClientOffset:g||null,isSourcePublic:!!i}}}}function St(t,e,r){d(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(n){d(r.getSource(n),"Expected sourceIds to be registered.")})}function Tt(t){d(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Ot(t){d(xe(t),"Item must be an object.")}function bt(t,e){let r=null;for(let n=t.length-1;n>=0;n--)if(e.canDragSource(t[n])){r=t[n];break}return r}function It(t){return function(){if(t.getMonitor().isDragging())return{type:re}}}function J(t,e){return e===null?t===null:Array.isArray(t)?t.some(r=>r===e):t===e}function Ct(t){return function(r,{clientOffset:n}={}){wt(r);const i=r.slice(0),o=t.getMonitor(),s=t.getRegistry();Et(i,o,s);const a=o.getItemType();return _t(i,s,a),Pt(i,o,s),{type:$,payload:{targetIds:i,clientOffset:n||null}}}}function wt(t){d(Array.isArray(t),"Expected targetIds to be an array.")}function Et(t,e,r){d(e.isDragging(),"Cannot call hover while not dragging."),d(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<t.length;n++){const i=t[n];d(t.lastIndexOf(i)===n,"Expected targetIds to be unique in the passed array.");const o=r.getTarget(i);d(o,"Expected targetIds to be registered.")}}function _t(t,e,r){for(let n=t.length-1;n>=0;n--){const i=t[n],o=e.getTargetType(i);J(o,r)||t.splice(n,1)}}function Pt(t,e,r){t.forEach(function(n){r.getTarget(n).hover(e,n)})}function Nt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Nt(t,i,r[i])})}return t}function Rt(t){return function(r={}){const n=t.getMonitor(),i=t.getRegistry();Mt(n),kt(n).forEach((s,a)=>{const u=At(s,a,i,n),l={type:j,payload:{dropResult:xt({},r,u)}};t.dispatch(l)})}}function Mt(t){d(t.isDragging(),"Cannot call drop while not dragging."),d(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function At(t,e,r,n){const i=r.getTarget(t);let o=i?i.drop(n,t):void 0;return Lt(o),typeof o=="undefined"&&(o=e===0?{}:n.getDropResult()),o}function Lt(t){d(typeof t=="undefined"||xe(t),"Drop result must either be an object or undefined.")}function kt(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function Ht(t){return function(){const r=t.getMonitor(),n=t.getRegistry();$t(r);const i=r.getSourceId();return i!=null&&(n.getSource(i,!0).endDrag(r,i),n.unpinSource()),{type:F}}}function $t(t){d(t.isDragging(),"Cannot call endDrag while not dragging.")}function jt(t){return{beginDrag:Dt(t),publishDragSource:It(t),hover:Ct(t),drop:Rt(t),endDrag:Ht(t)}}class Ft{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:r}=this.store;function n(o){return(...s)=>{const a=o.apply(e,s);typeof a!="undefined"&&r(a)}}const i=jt(this);return Object.keys(i).reduce((o,s)=>{const a=i[s];return o[s]=n(a),o},{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}}function O(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var de=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),V=function(){return Math.random().toString(36).substring(7).split("").join(".")},fe={INIT:"@@redux/INIT"+V(),REPLACE:"@@redux/REPLACE"+V(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+V()}};function Ut(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Re(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(O(0));if(typeof e=="function"&&typeof r=="undefined"&&(r=e,e=void 0),typeof r!="undefined"){if(typeof r!="function")throw new Error(O(1));return r(Re)(t,e)}if(typeof t!="function")throw new Error(O(2));var i=t,o=e,s=[],a=s,u=!1;function l(){a===s&&(a=s.slice())}function g(){if(u)throw new Error(O(3));return o}function v(h){if(typeof h!="function")throw new Error(O(4));if(u)throw new Error(O(5));var m=!0;return l(),a.push(h),function(){if(!!m){if(u)throw new Error(O(6));m=!1,l();var T=a.indexOf(h);a.splice(T,1),s=null}}}function p(h){if(!Ut(h))throw new Error(O(7));if(typeof h.type=="undefined")throw new Error(O(8));if(u)throw new Error(O(9));try{u=!0,o=i(o,h)}finally{u=!1}for(var m=s=a,S=0;S<m.length;S++){var T=m[S];T()}return h}function f(h){if(typeof h!="function")throw new Error(O(10));i=h,p({type:fe.REPLACE})}function D(){var h,m=v;return h={subscribe:function(T){if(typeof T!="object"||T===null)throw new Error(O(11));function _(){T.next&&T.next(g())}_();var B=m(_);return{unsubscribe:B}}},h[de]=function(){return this},h}return p({type:fe.INIT}),n={dispatch:p,subscribe:v,getState:g,replaceReducer:f},n[de]=D,n}const Bt=(t,e)=>t===e;function qt(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function Vt(t,e,r=Bt){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!r(t[n],e[n]))return!1;return!0}function Gt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Gt(t,i,r[i])})}return t}const ge={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Wt(t=ge,e){const{payload:r}=e;switch(e.type){case te:case H:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case $:return qt(t.clientOffset,r.clientOffset)?t:Xt({},t,{clientOffset:r.clientOffset});case F:case j:return ge;default:return t}}const ne="dnd-core/ADD_SOURCE",ie="dnd-core/ADD_TARGET",oe="dnd-core/REMOVE_SOURCE",U="dnd-core/REMOVE_TARGET";function zt(t){return{type:ne,payload:{sourceId:t}}}function Yt(t){return{type:ie,payload:{targetId:t}}}function Qt(t){return{type:oe,payload:{sourceId:t}}}function Jt(t){return{type:U,payload:{targetId:t}}}function Kt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Kt(t,i,r[i])})}return t}const Zt={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function er(t=Zt,e){const{payload:r}=e;switch(e.type){case H:return P({},t,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case re:return P({},t,{isSourcePublic:!0});case $:return P({},t,{targetIds:r.targetIds});case U:return t.targetIds.indexOf(r.targetId)===-1?t:P({},t,{targetIds:pt(t.targetIds,r.targetId)});case j:return P({},t,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case F:return P({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function tr(t=0,e){switch(e.type){case ne:case ie:return t+1;case oe:case U:return t-1;default:return t}}const M=[],se=[];M.__IS_NONE__=!0;se.__IS_ALL__=!0;function rr(t,e){return t===M?!1:t===se||typeof e=="undefined"?!0:mt(e,t).length>0}function nr(t=M,e){switch(e.type){case $:break;case ne:case ie:case U:case oe:return M;case H:case re:case F:case j:default:return se}const{targetIds:r=[],prevTargetIds:n=[]}=e.payload,i=vt(r,n);if(!(i.length>0||!Vt(r,n)))return M;const s=n[n.length-1],a=r[r.length-1];return s!==a&&(s&&i.push(s),a&&i.push(a)),i}function ir(t=0){return t+1}function or(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){or(t,i,r[i])})}return t}function ar(t={},e){return{dirtyHandlerIds:nr(t.dirtyHandlerIds,{type:e.type,payload:sr({},e.payload,{prevTargetIds:ht(t,"dragOperation.targetIds",[])})}),dragOffset:Wt(t.dragOffset,e),refCount:tr(t.refCount,e),dragOperation:er(t.dragOperation,e),stateId:ir(t.stateId)}}function ur(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Me(t,e){return{x:t.x-e.x,y:t.y-e.y}}function cr(t){const{clientOffset:e,initialClientOffset:r,initialSourceClientOffset:n}=t;return!e||!r||!n?null:Me(ur(e,n),r)}function lr(t){const{clientOffset:e,initialClientOffset:r}=t;return!e||!r?null:Me(e,r)}class dr{subscribeToStateChange(e,r={}){const{handlerIds:n}=r;d(typeof e=="function","listener must be a function."),d(typeof n=="undefined"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;const o=()=>{const s=this.store.getState(),a=s.stateId;try{a===i||a===i+1&&!rr(s.dirtyHandlerIds,n)||e()}finally{i=a}};return this.store.subscribe(o)}subscribeToOffsetChange(e){d(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const i=this.store.getState().dragOffset;i!==r&&(r=i,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const r=this.registry.getSource(e);return d(r,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const r=this.registry.getTarget(e);if(d(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),i=this.getItemType();return J(n,i)&&r.canDrop(this,e)}isDragging(){return Boolean(this.getItemType())}isDraggingSource(e){if(!e)return!1;const r=this.registry.getSource(e,!0);if(d(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),i=this.getItemType();return n!==i?!1:r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const i=this.registry.getTargetType(e),o=this.getItemType();if(o&&!J(i,o))return!1;const s=this.getTargetIds();if(!s.length)return!1;const a=s.indexOf(e);return n?a===s.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return cr(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return lr(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}}let fr=0;function gr(){return fr++}function hr(t){d(typeof t.canDrag=="function","Expected canDrag to be a function."),d(typeof t.beginDrag=="function","Expected beginDrag to be a function."),d(typeof t.endDrag=="function","Expected endDrag to be a function.")}function pr(t){d(typeof t.canDrop=="function","Expected canDrop to be a function."),d(typeof t.hover=="function","Expected hover to be a function."),d(typeof t.drop=="function","Expected beginDrag to be a function.")}function K(t,e){if(e&&Array.isArray(t)){t.forEach(r=>K(r,!1));return}d(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}const he=typeof global!="undefined"?global:self,Ae=he.MutationObserver||he.WebKitMutationObserver;function Le(t){return function(){const r=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(r),clearInterval(n),t()}}}function vr(t){let e=1;const r=new Ae(t),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const mr=typeof Ae=="function"?vr:Le;class yr{enqueueTask(e){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const r=this.index;if(this.index++,e[r].call(),this.index>this.capacity){for(let n=0,i=e.length-this.index;n<i;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=mr(this.flush),this.requestErrorThrow=Le(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Dr{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}}class Sr{create(e){const r=this.freeTasks,n=r.length?r.pop():new Dr(this.onError,i=>r[r.length]=i);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const ke=new yr,Tr=new Sr(ke.registerPendingError);function Or(t){ke.enqueueTask(Tr.create(t))}function br(t){const e=gr().toString();switch(t){case b.SOURCE:return`S${e}`;case b.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function pe(t){switch(t[0]){case"S":return b.SOURCE;case"T":return b.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function ve(t,e){const r=t.entries();let n=!1;do{const{done:i,value:[,o]}=r.next();if(o===e)return!0;n=!!i}while(!n);return!1}class Ir{addSource(e,r){K(e),hr(r);const n=this.addHandler(b.SOURCE,e,r);return this.store.dispatch(zt(n)),n}addTarget(e,r){K(e,!0),pr(r);const n=this.addHandler(b.TARGET,e,r);return this.store.dispatch(Yt(n)),n}containsHandler(e){return ve(this.dragSources,e)||ve(this.dropTargets,e)}getSource(e,r=!1){return d(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return d(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return d(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return d(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return pe(e)===b.SOURCE}isTargetId(e){return pe(e)===b.TARGET}removeSource(e){d(this.getSource(e),"Expected an existing source."),this.store.dispatch(Qt(e)),Or(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){d(this.getTarget(e),"Expected an existing target."),this.store.dispatch(Jt(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const r=this.getSource(e);d(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){d(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,n){const i=br(e);return this.types.set(i,r),e===b.SOURCE?this.dragSources.set(i,n):e===b.TARGET&&this.dropTargets.set(i,n),i}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}function Cr(t,e=void 0,r={},n=!1){const i=wr(n),o=new dr(i,new Ir(i)),s=new Ft(i,o),a=t(s,e,r);return s.receiveBackend(a),s}function wr(t){const e=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Re(ar,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function me(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Er(t){if(Array.isArray(t))return t}function _r(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,s,a;try{for(r=r.call(t);!(i=(s=r.next()).done)&&(n.push(s.value),!(e&&n.length===e));i=!0);}catch(u){o=!0,a=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw a}}return n}}function Pr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Nr(t,e){return Er(t)||_r(t,e)||xr(t,e)||Pr()}function xr(t,e){if(!!t){if(typeof t=="string")return me(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(r);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return me(t,e)}}var ye=0,k=Symbol.for("__VUE_DND_CONTEXT_INSTANCE__");function Rr(t){return"manager"in t&&t.manager}function Mr(t){if(Rr(t)){var e=t.manager;return[e,!1]}var r=Ar(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[r,n]}function Ar(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:He(),r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=e;return i[k]||(i[k]=Cr(t,e,r,n)),i[k]}function He(){return typeof globalThis!="undefined"?globalThis:typeof global!="undefined"?global:window}var Lr=x({name:"DndProvider",props:{manager:{type:Object},backend:{type:Function},context:{type:Object},options:{type:Object},debugMode:{type:Boolean}},setup:function(e,r){var n=r.slots,i=Nr(Mr(e),2),o=i[0],s=i[1];s&&++ye,et(function(){if(s){var u=He();--ye===0&&(u[k]=null)}}),dt(o);var a;return function(){var u;return(a=(u=n.default)===null||u===void 0?void 0:u.call(n))!==null&&a!==void 0?a:null}}});x({props:{connect:{type:Function,required:!0},src:{type:String,required:!0}},setup:function(e){return I(function(){if(typeof Image!="undefined"){var r=!1,n=new Image;return n.src=e.src,n.onload=function(){e.connect(n),r=!0},function(){r&&e.connect(null)}}}),function(){return null}}});function kr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var G=!1,X=!1,Hr=function(){function t(r){kr(this,t),this.sourceId=null,this.internalMonitor=r.getMonitor()}var e=t.prototype;return e.receiveHandlerId=function(n){this.sourceId=n},e.getHandlerId=function(){return this.sourceId},e.canDrag=function(){d(!G,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return G=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{G=!1}},e.isDragging=function(){if(!this.sourceId)return!1;d(!X,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return X=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{X=!1}},e.subscribeToStateChange=function(n,i){return this.internalMonitor.subscribeToStateChange(n,i)},e.isDraggingSource=function(n){return this.internalMonitor.isDraggingSource(n)},e.isOverTarget=function(n,i){return this.internalMonitor.isOverTarget(n,i)},e.getTargetIds=function(){return this.internalMonitor.getTargetIds()},e.isSourcePublic=function(){return this.internalMonitor.isSourcePublic()},e.getSourceId=function(){return this.internalMonitor.getSourceId()},e.subscribeToOffsetChange=function(n){return this.internalMonitor.subscribeToOffsetChange(n)},e.canDragSource=function(n){return this.internalMonitor.canDragSource(n)},e.canDropOnTarget=function(n){return this.internalMonitor.canDropOnTarget(n)},e.getItemType=function(){return this.internalMonitor.getItemType()},e.getItem=function(){return this.internalMonitor.getItem()},e.getDropResult=function(){return this.internalMonitor.getDropResult()},e.didDrop=function(){return this.internalMonitor.didDrop()},e.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},t}();function $r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var W=!1,jr=function(){function t(r){$r(this,t),this.targetId=null,this.internalMonitor=r.getMonitor()}var e=t.prototype;return e.receiveHandlerId=function(n){this.targetId=n},e.getHandlerId=function(){return this.targetId},e.subscribeToStateChange=function(n,i){return this.internalMonitor.subscribeToStateChange(n,i)},e.canDrop=function(){if(!this.targetId)return!1;d(!W,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return W=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{W=!1}},e.isOver=function(n){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,n):!1},e.getItemType=function(){return this.internalMonitor.getItemType()},e.getItem=function(){return this.internalMonitor.getItem()},e.getDropResult=function(){return this.internalMonitor.getDropResult()},e.didDrop=function(){return this.internalMonitor.didDrop()},e.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},t}(),Fr=function(t){return t&&typeof Symbol!="undefined"&&t.constructor===Symbol?"symbol":typeof t};function Ur(t){return t?t.__v_isVNode===!0:!1}function Br(t){return t?t.__v_skip:!1}function qr(t){return Ur(t)&&Fr(t.type)!=="symbol"}function Vr(){throw new Error("Only native element nodes can now be passed to Vue DnD connectors.You can either wrap Component into a <div>, or turn it into a drag source or a drop target itself.")}function Gr(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(Br(e)&&Vr(),!qr(e)){var n=e;return t(n,r),n}}}function $e(t){var e={};return Object.keys(t).forEach(function(r){var n=t[r];if(r.endsWith("Ref"))e[r]=t[r];else{var i=Gr(n);e[r]=function(){return i}}}),e}function Z(t,e,r,n){let i=r?r.call(n,t,e):void 0;if(i!==void 0)return!!i;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const o=Object.keys(t),s=Object.keys(e);if(o.length!==s.length)return!1;const a=Object.prototype.hasOwnProperty.bind(e);for(let u=0;u<o.length;u++){const l=o[u];if(!a(l))return!1;const g=t[l],v=e[l];if(i=r?r.call(n,g,v,l):void 0,i===!1||i===void 0&&g!==v)return!1}return!0}function Xr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function De(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Wr(t,e,r){return e&&De(t.prototype,e),r&&De(t,r),t}var zr=function(){function t(r){var n=this;Xr(this,t),this.hooks=$e({dragSource:function(i,o){n.clearDragSource(),n.dragSourceOptions=o||null,n.dragSourceNode=i,n.reconnectDragSource()},dragPreview:function(i,o){n.clearDragPreview(),n.dragPreviewOptions=o||null,n.dragPreviewNode=i,n.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceOptionsInternal=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=r}var e=t.prototype;return e.receiveHandlerId=function(n){this.handlerId!==n&&(this.handlerId=n,this.reconnect())},e.reconnect=function(){var n=this.reconnectDragSource();this.reconnectDragPreview(n)},e.reconnectDragSource=function(){var n=this.dragSource,i=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return i&&this.disconnectDragSource(),this.handlerId?n?(i&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=n,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,n,this.dragSourceOptions)),i):(this.lastConnectedDragSource=n,i):i},e.reconnectDragPreview=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=this.dragPreview,o=n||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(o&&this.disconnectDragPreview(),!!this.handlerId){if(!i){this.lastConnectedDragPreview=i;return}o&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=i,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,i,this.dragPreviewOptions))}},e.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},e.didConnectedDragSourceChange=function(){return this.lastConnectedDragSource!==this.dragSource},e.didConnectedDragPreviewChange=function(){return this.lastConnectedDragPreview!==this.dragPreview},e.didDragSourceOptionsChange=function(){return!Z(this.lastConnectedDragSourceOptions,this.dragSourceOptions)},e.didDragPreviewOptionsChange=function(){return!Z(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)},e.disconnectDragSource=function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)},e.disconnectDragPreview=function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null)},e.clearDragSource=function(){this.dragSourceNode=null},e.clearDragPreview=function(){this.dragPreviewNode=null},Wr(t,[{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(n){this.dragSourceOptionsInternal=n}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(n){this.dragPreviewOptionsInternal=n}},{key:"dragSource",get:function(){return this.dragSourceNode}},{key:"dragPreview",get:function(){return this.dragPreviewNode}}]),t}();function Yr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Se(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Qr(t,e,r){return e&&Se(t.prototype,e),r&&Se(t,r),t}var Jr=function(){function t(r){var n=this;Yr(this,t),this.hooks=$e({dropTarget:function(i,o){n.clearDropTarget(),n.dropTargetOptions=o,tt(i)?n.dropTargetRef=i:n.dropTargetNode=i,n.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=r}var e=t.prototype;return e.reconnect=function(){var n=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();n&&this.disconnectDropTarget();var i=this.dropTarget;if(!!this.handlerId){if(!i){this.lastConnectedDropTarget=i;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=i,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,i,this.dropTargetOptions))}},e.receiveHandlerId=function(n){n!==this.handlerId&&(this.handlerId=n,this.reconnect())},e.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},e.didDropTargetChange=function(){return this.lastConnectedDropTarget!==this.dropTarget},e.didOptionsChange=function(){return!Z(this.lastConnectedDropTargetOptions,this.dropTargetOptions)},e.disconnectDropTarget=function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)},e.clearDropTarget=function(){this.dropTargetRef=null,this.dropTargetNode=null},Qr(t,[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(n){this.dropTargetOptionsInternal=n}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.value}}]),t}();function Kr(t,e,r){var n=c(r).getRegistry(),i=n.addTarget(c(t),c(e));return[i,function(){return n.removeTarget(i)}]}function Zr(t,e,r){var n=r.getRegistry(),i=n.addSource(t,e);return[i,function(){return n.removeSource(i)}]}function en(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var tn=function(){function t(r,n,i){en(this,t),this.spec=r,this.monitor=n,this.connector=i}var e=t.prototype;return e.beginDrag=function(){var n=this.spec,i=this.monitor,o=null;return typeof n.item=="object"?o=n.item:typeof n.item=="function"?o=n.item(i):o={},o!=null?o:null},e.canDrag=function(){var n=this.spec,i=this.monitor;return typeof n.canDrag=="boolean"?n.canDrag:typeof n.canDrag=="function"?n.canDrag(i):!0},e.isDragging=function(n,i){var o=this.spec,s=this.monitor,a=o.isDragging;return a?a(s):i===n.getSourceId()},e.endDrag=function(){var n=this.spec,i=this.monitor,o=this.connector,s=n.end;s&&s(i.getItem(),i),o.reconnect()},t}();function rn(t,e,r){var n=y(function(){return new tn(c(t),c(e),c(r))});return I(function(){n.value.spec=c(t)}),n}function R(){var t=ft();return d(t!=null,"Expected drag drop context"),t}function nn(t){return y(function(){var e=c(t).type;return d(e!=null,"spec.type must be defined"),e})}function Te(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function on(t){if(Array.isArray(t))return t}function sn(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,s,a;try{for(r=r.call(t);!(i=(s=r.next()).done)&&(n.push(s.value),!(e&&n.length===e));i=!0);}catch(u){o=!0,a=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw a}}return n}}function an(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function un(t,e){return on(t)||sn(t,e)||cn(t,e)||an()}function cn(t,e){if(!!t){if(typeof t=="string")return Te(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(r);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Te(t,e)}}function ln(t,e,r){var n=R(),i=rn(t,e,r),o=nn(t);I(function(a){if(c(o)!=null){var u=un(Zr(c(o),c(i),c(n)),2),l=u[0],g=u[1];c(e).receiveHandlerId(l),c(r).receiveHandlerId(l),a(g)}})}function je(t){return y(function(){return typeof t=="function"?t():t})}function dn(){var t=R();return y(function(){return new Hr(c(t))})}function fn(t,e){var r=R(),n=y(function(){return new zr(c(r).getBackend())});return I(function(i){n.value.dragSourceOptions=c(t)||null,c(n).reconnect(),i(function(){n.value.disconnectDragSource()})}),I(function(i){n.value.dragPreviewOptions=c(e)||null,c(n).reconnect(),i(function(){n.value.disconnectDragPreview()})}),n}var Fe=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r};function gn(t,e,r){var n=Ee(c(e)(c(t))),i=function(){var o=c(e)(c(t));Fe(n,o)||(n.value=o,r&&r())};return I(i),[n,i]}function Oe(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hn(t){if(Array.isArray(t))return t}function pn(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,s,a;try{for(r=r.call(t);!(i=(s=r.next()).done)&&(n.push(s.value),!(e&&n.length===e));i=!0);}catch(u){o=!0,a=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw a}}return n}}function vn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function mn(t,e){return hn(t)||pn(t,e)||yn(t,e)||vn()}function yn(t,e){if(!!t){if(typeof t=="string")return Oe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(r);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Oe(t,e)}}function Dn(t,e,r){var n=mn(gn(t,e,r),2),i=n[0],o=n[1];return I(function(a){var u=c(t).getHandlerId();u!=null&&a(c(t).subscribeToStateChange(o,{handlerIds:[u]}))}),i}function Ue(t,e,r){var n=function(){return{}};return Dn(e,t||n,function(){return c(r).reconnect()})}function ae(t,e){var r=_e({el:null,options:c(e)});I(function(){t(r)},{flush:"post"});var n=function(i,o){ce(r,"el",i);var s=c(e)||o;return Fe(r.options,s)||ce(r,"options",s),c(i)};return n}function Sn(t,e){return ae(function(r){c(t).hooks.dragSource()(r.el,r.options)},y(function(){return c(e).options}))}function Tn(t,e){return ae(function(r){c(t).hooks.dragPreview()(r.el,r.options)},y(function(){return c(e).previewOptions}))}function On(t){var e=je(t),r=dn(),n=fn(y(function(){return c(e).options}),y(function(){return c(e).previewOptions}));return ln(e,r,n),[Ue(y(function(){return c(e).collect||function(){return{}}}),r,n),Sn(n,e),Tn(n,e)]}function bn(t){return y(function(){var e=c(t).accept;return d(e!=null,"accept must be defined"),Array.isArray(e)?e:[e]})}function In(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Cn=function(){function t(r,n){In(this,t),this.spec=r,this.monitor=n}var e=t.prototype;return e.canDrop=function(){var n=this.spec,i=this.monitor;return n.canDrop?n.canDrop(i.getItem(),i):!0},e.hover=function(){var n=this.spec,i=this.monitor;n.hover&&n.hover(i.getItem(),i)},e.drop=function(){var n=this.spec,i=this.monitor;if(n.drop)return n.drop(i.getItem(),i)},t}();function wn(t,e){var r=y(function(){return new Cn(c(t),c(e))});return I(function(){r.value.spec=c(t)}),r}function be(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function En(t){if(Array.isArray(t))return t}function _n(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,s,a;try{for(r=r.call(t);!(i=(s=r.next()).done)&&(n.push(s.value),!(e&&n.length===e));i=!0);}catch(u){o=!0,a=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw a}}return n}}function Pn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Nn(t,e){return En(t)||_n(t,e)||xn(t,e)||Pn()}function xn(t,e){if(!!t){if(typeof t=="string")return be(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(r);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return be(t,e)}}function Rn(t,e,r){var n=R(),i=wn(t,e),o=bn(t);I(function(a){var u=Nn(Kr(o,i,n),2),l=u[0],g=u[1];c(e).receiveHandlerId(l),c(r).receiveHandlerId(l),a(g)})}function Mn(){var t=R();return y(function(){return new jr(c(t))})}function An(t){var e=R(),r=y(function(){return new Jr(c(e).getBackend())});return I(function(n){r.value.dropTargetOptions=c(t)||null,r.value.reconnect(),n(function(){return r.value.disconnectDropTarget()})}),r}function Ln(t,e){return ae(function(r){c(t).hooks.dropTarget()(r.el,r.options)},y(function(){return c(e).options}))}function kn(t){var e=je(t),r=Mn(),n=An(y(function(){return c(e).options}));return Rn(e,r,n),[Ue(y(function(){return c(e).collect||function(){return{}}}),r,n),Ln(n,e)]}function Be(t){let e=null;return()=>(e==null&&(e=t()),e)}function Hn(t,e){return t.filter(r=>r!==e)}function $n(t,e){const r=new Set,n=o=>r.add(o);t.forEach(n),e.forEach(n);const i=[];return r.forEach(o=>i.push(o)),i}class jn{enter(e){const r=this.entered.length,n=i=>this.isNodeInDocument(i)&&(!i.contains||i.contains(e));return this.entered=$n(this.entered.filter(n),[e]),r===0&&this.entered.length>0}leave(e){const r=this.entered.length;return this.entered=Hn(this.entered.filter(this.isNodeInDocument),e),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class Fn{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const i=this.config.exposeProperties[n];i!=null&&(r[n]={value:i(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const qe="__NATIVE_FILE__",Ve="__NATIVE_URL__",Ge="__NATIVE_TEXT__",Xe="__NATIVE_HTML__";var Ie=Object.freeze(Object.defineProperty({__proto__:null,FILE:qe,URL:Ve,TEXT:Ge,HTML:Xe},Symbol.toStringTag,{value:"Module"}));function z(t,e,r){const n=e.reduce((i,o)=>i||t.getData(o),"");return n!=null?n:r}const ee={[qe]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[Xe]:{exposeProperties:{html:(t,e)=>z(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[Ve]:{exposeProperties:{urls:(t,e)=>z(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[Ge]:{exposeProperties:{text:(t,e)=>z(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function Un(t,e){const r=ee[t];if(!r)throw new Error(`native type ${t} has no configuration`);const n=new Fn(r);return n.loadDataTransfer(e),n}function Y(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(ee).filter(r=>{const n=ee[r];return n!=null&&n.matchesTypes?n.matchesTypes.some(i=>e.indexOf(i)>-1):!1})[0]||null}const Bn=Be(()=>/firefox/i.test(navigator.userAgent)),We=Be(()=>Boolean(window.safari));class Ce{interpolate(e){const{xs:r,ys:n,c1s:i,c2s:o,c3s:s}=this;let a=r.length-1;if(e===r[a])return n[a];let u=0,l=s.length-1,g;for(;u<=l;){g=Math.floor(.5*(u+l));const f=r[g];if(f<e)u=g+1;else if(f>e)l=g-1;else return n[g]}a=Math.max(0,l);const v=e-r[a],p=v*v;return n[a]+i[a]*v+o[a]*p+s[a]*v*p}constructor(e,r){const{length:n}=e,i=[];for(let f=0;f<n;f++)i.push(f);i.sort((f,D)=>e[f]<e[D]?-1:1);const o=[],s=[];let a,u;for(let f=0;f<n-1;f++)a=e[f+1]-e[f],u=r[f+1]-r[f],o.push(a),s.push(u/a);const l=[s[0]];for(let f=0;f<o.length-1;f++){const D=s[f],h=s[f+1];if(D*h<=0)l.push(0);else{a=o[f];const m=o[f+1],S=a+m;l.push(3*S/((S+m)/D+(S+a)/h))}}l.push(s[s.length-1]);const g=[],v=[];let p;for(let f=0;f<l.length-1;f++){p=s[f];const D=l[f],h=1/o[f],m=D+l[f+1]-p-p;g.push((p-D-m)*h),v.push(m*h*h)}this.xs=e,this.ys=r,this.c1s=l,this.c2s=g,this.c3s=v}}const qn=1;function ze(t){const e=t.nodeType===qn?t:t.parentElement;if(!e)return null;const{top:r,left:n}=e.getBoundingClientRect();return{x:n,y:r}}function L(t){return{x:t.clientX,y:t.clientY}}function Vn(t){var e;return t.nodeName==="IMG"&&(Bn()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function Gn(t,e,r,n){let i=t?e.width:r,o=t?e.height:n;return We()&&t&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}function Xn(t,e,r,n,i){const o=Vn(e),a=ze(o?t:e),u={x:r.x-a.x,y:r.y-a.y},{offsetWidth:l,offsetHeight:g}=t,{anchorX:v,anchorY:p}=n,{dragPreviewWidth:f,dragPreviewHeight:D}=Gn(o,e,l,g),h=()=>{let ue=new Ce([0,.5,1],[u.y,u.y/g*D,u.y+D-g]).interpolate(p);return We()&&o&&(ue+=(window.devicePixelRatio-1)*D),ue},m=()=>new Ce([0,.5,1],[u.x,u.x/l*f,u.x+f-l]).interpolate(v),{offsetX:S,offsetY:T}=i,_=S===0||S,B=T===0||T;return{x:_?S:m(),y:B?T:h()}}class Wn{get window(){if(this.globalContext)return this.globalContext;if(typeof window!="undefined")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,r){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=r}}function zn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function we(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){zn(t,i,r[i])})}return t}class Yn{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,r,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,n){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,n);const i=s=>this.handleDragStart(s,e),o=s=>this.handleSelectStart(s);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",i),r.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",i),r.removeEventListener("selectstart",o),r.setAttribute("draggable","false")}}connectDropTarget(e,r){const n=s=>this.handleDragEnter(s,e),i=s=>this.handleDragOver(s,e),o=s=>this.handleDrop(s,e);return r.addEventListener("dragenter",n),r.addEventListener("dragover",i),r.addEventListener("drop",o),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",i),r.removeEventListener("drop",o)}}addEventListeners(e){!e.addEventListener||(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){!e.removeEventListener||(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return we({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(e);return we({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(Ie).some(r=>Ie[r]===e)}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=Un(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=i=>{const o=this.sourceNodes.get(i);return o&&ze(o)||null},this.endDragNativeItem=()=>{!this.isDraggingNativeItem()||(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=i=>Boolean(i&&this.document&&this.document.body&&this.document.body.contains(i)),this.endDragIfSourceWasRemovedFromDOM=()=>{const i=this.currentDragSourceNode;i==null||this.isNodeInDocument(i)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=i=>{this.hoverRafId===null&&typeof requestAnimationFrame!="undefined"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(i||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame!="undefined"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=i=>{if(i.defaultPrevented)return;const{dragStartSourceIds:o}=this;this.dragStartSourceIds=null;const s=L(i);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(o||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:s});const{dataTransfer:a}=i,u=Y(a);if(this.monitor.isDragging()){if(a&&typeof a.setDragImage=="function"){const g=this.monitor.getSourceId(),v=this.sourceNodes.get(g),p=this.sourcePreviewNodes.get(g)||v;if(p){const{anchorX:f,anchorY:D,offsetX:h,offsetY:m}=this.getCurrentSourcePreviewNodeOptions(),_=Xn(v,p,s,{anchorX:f,anchorY:D},{offsetX:h,offsetY:m});a.setDragImage(p,_.x,_.y)}}try{a==null||a.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(i.target);const{captureDraggingState:l}=this.getCurrentSourcePreviewNodeOptions();l?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(u)this.beginDragNativeItem(u);else{if(a&&!a.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=i=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}if(!this.enterLeaveCounter.enter(i.target)||this.monitor.isDragging())return;const{dataTransfer:a}=i,u=Y(a);u&&this.beginDragNativeItem(u,a)},this.handleTopDragEnter=i=>{const{dragEnterTargetIds:o}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=i.altKey,o.length>0&&this.actions.hover(o,{clientOffset:L(i)}),o.some(a=>this.monitor.canDropOnTarget(a))&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=i=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}},this.handleTopDragOver=i=>{const{dragOverTargetIds:o}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}this.altKeyPressed=i.altKey,this.lastClientOffset=L(i),this.scheduleHover(o),(o||[]).some(a=>this.monitor.canDropOnTarget(a))?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=i=>{this.isDraggingNativeItem()&&i.preventDefault(),this.enterLeaveCounter.leave(i.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=i=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var o;i.preventDefault(),(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}else Y(i.dataTransfer)&&i.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=i=>{const{dropTargetIds:o}=this;this.dropTargetIds=[],this.actions.hover(o,{clientOffset:L(i)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=i=>{const o=i.target;typeof o.dragDrop=="function"&&(o.tagName==="INPUT"||o.tagName==="SELECT"||o.tagName==="TEXTAREA"||o.isContentEditable||(i.preventDefault(),o.dragDrop()))},this.options=new Wn(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new jn(this.isNodeInDocument)}}const Qn=function(e,r,n){return new Yn(e,r,n)},Ye={BOX:"box"};const Jn=x({props:{id:null,left:null,top:null,hideSourceOnDrag:{type:Boolean}},setup(t){const e=t,[r,n]=On(()=>({type:Ye.BOX,item:{id:e.id,left:e.left,top:e.top},collect:o=>({isDragging:o.isDragging()})})),{isDragging:i}=rt(r);return(o,s)=>c(i)&&t.hideSourceOnDrag?(E(),A("div",{key:0,ref:c(n)},null,512)):(E(),A("div",{key:1,ref:c(n),class:"box",style:it({left:`${t.left}px`,top:`${t.top}px`}),role:"Box","data-testid":"box"},[nt(o.$slots,"default",{},void 0,!0)],4))}});var Kn=Pe(Jn,[["__scopeId","data-v-2fa8a628"]]);const Qe=t=>(ct("data-v-21d507a8"),t=t(),lt(),t),Zn=Qe(()=>N("div",null,"\u901A\u8FC7",-1)),ei=Qe(()=>N("div",null,"\u5FEB\u901F\u901A\u8FC7",-1)),ti=x({props:{hideSourceOnDrag:{type:Boolean}},setup(t){const e=_e({a:{top:0,left:80,title:"Drag me around",z:200},b:{top:0,left:20,title:"Drag me too",z:100}}),r=(i,o,s)=>{Object.assign(e[i],{left:o,top:s})},[,n]=kn(()=>({accept:Ye.BOX,drop(i,o){const s=o.getDifferenceFromInitialOffset(),a=Math.round(i.left+s.x),u=Math.round(i.top+s.y);r(i.id,a,u)}}));return(i,o)=>{const s=q("n-collapse-item"),a=q("n-collapse"),u=q("n-card");return E(),A("div",{ref:c(n),class:"container"},[w(a,{"display-directive":"show"},{default:C(()=>[w(s,{title:"\u7EFF\u706F",name:"1"},{default:C(()=>[w(a,null,{default:C(()=>[w(s,{title:"\u5E38\u4EAE",name:"1"},{default:C(()=>[Zn]),_:1}),w(s,{title:"\u95EA\u70C1",name:"2"},{default:C(()=>[ei]),_:1})]),_:1})]),_:1}),(E(!0),A(ot,null,st(c(e),(l,g)=>(E(),Q(s,{title:"value",name:"key"},{default:C(()=>[(E(),Q(Kn,{id:g,key:g,left:l.left,top:l.top,"hide-source-on-drag":t.hideSourceOnDrag},{default:C(()=>[w(u,null,{default:C(()=>[at(ut(l.title),1)]),_:2},1024)]),_:2},1032,["id","left","top","hide-source-on-drag"]))]),_:2},1024))),256))]),_:1})],512)}}});var ri=Pe(ti,[["__scopeId","data-v-21d507a8"]]);const ni={for:"hideSourceOnDrag"},ii=["checked"],oi=N("small",null,"Hide the source item while dragging",-1),si=x({setup(t){const e=Ee(!0),r=()=>e.value=!e.value;return(n,i)=>(E(),A("div",null,[w(ri,{"hide-source-on-drag":e.value},null,8,["hide-source-on-drag"]),N("p",null,[N("label",ni,[N("input",{id:"hideSourceOnDrag",type:"checkbox",role:"checkbox",checked:e.value,onChange:r},null,40,ii),oi])])]))}}),ui=x({setup(t){return(e,r)=>(E(),Q(c(Lr),{backend:c(Qn)},{default:C(()=>[w(c(si))]),_:1},8,["backend"]))}});export{ui as default};
