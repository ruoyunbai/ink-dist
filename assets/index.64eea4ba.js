import{_ as X,d as M,t as ae,g as i,n as b,h as j,i as e,j as t,k as l,x as z,p as Y,m as Z,q as U,r as F,v,o as H,l as L,a2 as W,c as ie,a as ue,b as le,f as _,A as O,B as V,F as T,D as G}from"./index.256d5469.js";import{u as ee}from"./Project.42a2a101.js";import{u as te,a as oe,b as ne}from"./Uml.0327ec50.js";const K=p=>(Y("data-v-379b79c5"),p=p(),Z(),p),re={class:"user",style:{background:"#edf5ed",margin:"15px 25px 15px 15px"}},ce=K(()=>l("div",null,"\u2002",-1)),_e={class:"name",style:{margin:"0px 10px 10px 30px"}},de={class:"state",style:{margin:"0px 10px 10px 30px"}},pe=K(()=>l("div",{style:{height:"15px"}},null,-1)),me=K(()=>l("p",{class:"buttonText2"},"\u6062\u590D\u9879\u76EE",-1)),ge=K(()=>l("p",{class:"buttonText2"},"\u5220\u9664\u9879\u76EE",-1)),fe=U(" \u786E\u5B9A\u8981\u6C38\u4E45\u5220\u9664\u9879\u76EE\u5417\uFF1F "),he=U(" \u786E\u5B9A "),ve=M({props:{oneProject:{default:()=>({name:"123",time:0,tags:[],title:"",content:"",watches:0,comments:0,ups:0,gShow:!1,downs:0,user_id:1,post_id:1,clear:!0,like_status:0})}},setup(p){const a=p;ae();const u=ee(),E=()=>{u.proj_id=a.oneProject.proj_id,u.operation="delete_proj"},m=()=>{u.proj_id=a.oneProject.proj_id,u.operation="recover_proj"};return(f,g)=>{const h=i("n-space"),d=i("n-image"),r=i("n-button"),y=i("n-icon"),w=i("n-popconfirm");return b(),j("div",re,[e(h,{vertical:""},{default:t(()=>[e(h,{justify:"end"},{default:t(()=>[ce]),_:1}),l("p",_e,z(a.oneProject.proj_name),1),l("p",de,z(a.oneProject.proj_info),1),pe,e(r,{round:"",size:"large",color:"#DADADA",ghost:"",onClick:g[0]||(g[0]=$=>m())},{icon:t(()=>[e(d,{"preview-disabled":"",src:"svg\\project_svg\\toDetail.svg"})]),default:t(()=>[me]),_:1}),e(w,null,{icon:t(()=>[e(y,null,{default:t(()=>[e(d,{style:{margin:"0px 0px 0px 0px"},height:"20","preview-disabled":"",src:"svg\\project_svg\\remove_clue.svg"})]),_:1})]),trigger:t(()=>[e(r,{round:"",size:"large",color:"#DADADA",ghost:"",style:{margin:"0px 10px 10px 10px"}},{icon:t(()=>[e(d,{"preview-disabled":"",src:"svg\\project_svg\\dele.svg"})]),default:t(()=>[ge]),_:1})]),action:t(()=>[e(r,{size:"small",onClick:g[1]||(g[1]=$=>E())},{default:t(()=>[he]),_:1})]),default:t(()=>[fe]),_:1})]),_:1})])}}});var be=X(ve,[["__scopeId","data-v-379b79c5"]]);const je={class:"item"},xe={display:"inline"},ye=U(" \u786E\u5B9A\u8981\u6C38\u4E45\u5220\u9664\u6587\u6863\u5417\uFF1F "),we=U(" \u786E\u5B9A "),$e=M({props:{oneDoc:{default:()=>({name:"123",time:0,tags:[],title:"",content:"",watches:0,comments:0,ups:0,gShow:!1,downs:0,user_id:1,post_id:1,clear:!0,like_status:0})}},setup(p){const a=p;F(!1);const u=te(),E=v({name:"\u6587\u6863"});H(()=>{E.name=a.oneDoc.document_name,console.log(a.oneDoc)});const m=()=>{u.document_id=a.oneDoc.document_id,u.operation="recover"},f=()=>{u.document_id=a.oneDoc.document_id,u.operation="delete_complete"};return(g,h)=>{const d=i("n-image"),r=i("n-gi"),y=i("n-icon"),w=i("el-icon"),$=i("n-button"),k=i("n-popconfirm"),D=i("n-grid");return b(),j("div",je,[e(D,{"x-gap":"0",cols:11,style:{"padding-top":"5px","vertical-align":"middle"}},{default:t(()=>[e(r,{span:"1"},{default:t(()=>[e(d,{"preview-disabled":"",width:"26.5",height:"23.5",src:"svg\\projectDetail\\ItemIcon.svg"})]),_:1}),e(r,{span:"8"},{default:t(()=>[l("div",xe,z(a.oneDoc.document_name),1)]),_:1}),e(r,{span:"1"},{default:t(()=>[e(d,{"preview-disabled":"",onClick:m,width:"20",src:"svg\\trash_svg\\recover_file.svg"})]),_:1}),e(r,{span:"1"},{default:t(()=>[e(k,null,{icon:t(()=>[e(y,null,{default:t(()=>[e(d,{style:{margin:"0px 0px 0px 0px"},height:"20","preview-disabled":"",src:"svg\\project_svg\\remove_clue.svg"})]),_:1})]),trigger:t(()=>[e(w,null,{default:t(()=>[e(L(W))]),_:1})]),action:t(()=>[e($,{size:"small",onClick:h[0]||(h[0]=B=>f())},{default:t(()=>[we]),_:1})]),default:t(()=>[ye]),_:1})]),_:1})]),_:1})])}}});const Ee={class:"item"},ke={display:"inline"},De=U(" \u786E\u5B9A\u8981\u6C38\u4E45\u5220\u9664\u539F\u578B\u9875\u9762\u5417\uFF1F "),Se=U(" \u786E\u5B9A "),Fe=M({props:{oneProto:{default:()=>({name:"123",time:0,tags:[],title:"",content:"",watches:0,comments:0,ups:0,gShow:!1,downs:0,user_id:1,post_id:1,clear:!0,like_status:0})}},setup(p){const a=p;F(!1);const u=oe(),E=v({name:"\u8BBE\u8BA1\u539F\u578B\u9875\u9762"});H(()=>{E.name=a.oneProto.ppage_name,console.log(a.oneProto)});const m=()=>{u.ppage_id=a.oneProto.ppage_id,u.operation="recover"},f=()=>{u.ppage_id=a.oneProto.ppage_id,u.operation="delete_complete"};return(g,h)=>{const d=i("n-image"),r=i("n-gi"),y=i("n-icon"),w=i("el-icon"),$=i("n-button"),k=i("n-popconfirm"),D=i("n-grid");return b(),j("div",Ee,[e(D,{"x-gap":"0",cols:11,style:{"padding-top":"5px","vertical-align":"middle"}},{default:t(()=>[e(r,{span:"1"},{default:t(()=>[e(d,{"preview-disabled":"",width:"26.5",height:"23.5",src:"svg\\projectDetail\\ItemIcon.svg"})]),_:1}),e(r,{span:"8"},{default:t(()=>[l("div",ke,z(a.oneProto.ppage_name),1)]),_:1}),e(r,{span:"1"},{default:t(()=>[e(d,{"preview-disabled":"",onClick:m,width:"20",src:"svg\\trash_svg\\recover_file.svg"})]),_:1}),e(r,{span:"1"},{default:t(()=>[e(k,null,{icon:t(()=>[e(y,null,{default:t(()=>[e(d,{style:{margin:"0px 0px 0px 0px"},height:"20","preview-disabled":"",src:"svg\\project_svg\\remove_clue.svg"})]),_:1})]),trigger:t(()=>[e(w,null,{default:t(()=>[e(L(W))]),_:1})]),action:t(()=>[e($,{size:"small",onClick:h[0]||(h[0]=B=>f())},{default:t(()=>[Se]),_:1})]),default:t(()=>[De]),_:1})]),_:1})]),_:1})])}}});const Ue={class:"item"},Ae={display:"inline"},Ce=U(" \u786E\u5B9A\u8981\u6C38\u4E45\u5220\u9664UML\u56FE\u5417\uFF1F "),Le=U(" \u786E\u5B9A "),Be=M({props:{oneUML:{default:()=>({name:"123",time:0,tags:[],title:"",content:"",watches:0,comments:0,ups:0,gShow:!1,downs:0,user_id:1,post_id:1,clear:!0,like_status:0})}},setup(p){const a=p;F(!1);const u=ne(),E=v({name:"UML\u56FE"});H(()=>{E.name=a.oneUML.uml_name,console.log(a.oneUML)});const m=()=>{u.uml_id=a.oneUML.uml_id,u.operation="recover"},f=()=>{u.uml_id=a.oneUML.uml_id,u.operation="delete_complete"};return(g,h)=>{const d=i("n-image"),r=i("n-gi"),y=i("n-icon"),w=i("el-icon"),$=i("n-button"),k=i("n-popconfirm"),D=i("n-grid");return b(),j("div",Ue,[e(D,{"x-gap":"0",cols:11,style:{"padding-top":"5px","vertical-align":"middle"}},{default:t(()=>[e(r,{span:"1"},{default:t(()=>[e(d,{"preview-disabled":"",width:"26.5",height:"23.5",src:"svg\\projectDetail\\ItemIcon.svg"})]),_:1}),e(r,{span:"8"},{default:t(()=>[l("div",Ae,z(a.oneUML.uml_name),1)]),_:1}),e(r,{span:"1"},{default:t(()=>[e(d,{"preview-disabled":"",onClick:m,width:"20",src:"svg\\trash_svg\\recover_file.svg"})]),_:1}),e(r,{span:"1"},{default:t(()=>[e(k,null,{icon:t(()=>[e(y,null,{default:t(()=>[e(d,{style:{margin:"0px 0px 0px 0px"},height:"20","preview-disabled":"",src:"svg\\project_svg\\remove_clue.svg"})]),_:1})]),trigger:t(()=>[e(w,null,{default:t(()=>[e(L(W))]),_:1})]),action:t(()=>[e($,{size:"small",onClick:h[0]||(h[0]=B=>f())},{default:t(()=>[Le]),_:1})]),default:t(()=>[Ce]),_:1})]),_:1})]),_:1})])}}});const N=p=>(Y("data-v-751f00d4"),p=p(),Z(),p),Pe={class:"header"},Re=N(()=>l("span",{class:"title"},"\u5DF2\u5220\u9664\u5185\u5BB9",-1)),Te=N(()=>l("div",{class:"fileTitle",style:{"margin-left":"40px"}},"\u9879\u76EE",-1)),ze={class:"proj_body"},Me={class:"tip"},Ne=N(()=>l("div",null,"\u539F\u578B\u9875\u9762",-1)),Ie=N(()=>l("div",null,"UML\u56FE",-1)),qe=N(()=>l("div",null,"\u6587\u6863",-1)),Je={class:"section"},Oe={class:"tip"},Ve={class:"section",style:{"background-color":"rgb(246, 134, 106, 0.2)"}},Ge={class:"tip"},He={class:"section",style:{"background-color":"rgb(255, 190, 92, 0.2)"}},Ke={class:"tip"},Qe=M({setup(p){const a=ee(),u=ie(),E=ue(),m=oe(),f=ne(),g=te(),h=le();F("");const d=F(!0),r=F(!0),y=F(!0),w=F(!0);v({name:"",region:""}),H(()=>{Q(),A(),console.log("1!!!")}),a.$subscribe((C,s)=>{a.operation!=""&&(a.operation=="delete_proj"?(_({url:_.defaults.baseURL+"/bin/delete_proj",method:"post",headers:{"Content-Type":"application/json",Authorization:u.token},data:{proj_id:a.proj_id},transformRequest:[function(o,c){return JSON.stringify(o)}]}).then(function(o){console.log(o),Q()}),a.operation=""):a.operation=="recover_proj"&&(_({url:_.defaults.baseURL+"/proj/move_proj_to_bin",method:"post",headers:{"Content-Type":"application/json",Authorization:u.token},data:{proj_id:a.proj_id},transformRequest:[function(o,c){return JSON.stringify(o)}]}).then(function(o){console.log(o),Q()}),a.operation=""))}),m.$subscribe((C,s)=>{m.operation!=""&&(m.operation=="delete_complete"?(_({url:_.defaults.baseURL+"/bin/delete_ppage",method:"post",headers:{"Content-Type":"application/json",Authorization:u.token},data:{ppage_id:m.ppage_id},transformRequest:[function(o,c){return JSON.stringify(o)}]}).then(function(o){console.log(o),A()}),m.operation=""):m.operation=="recover"&&(_({url:_.defaults.baseURL+"/bin/move_ppage_from_bin",method:"post",headers:{"Content-Type":"application/json",Authorization:u.token},data:{ppage_id:m.ppage_id},transformRequest:[function(o,c){return JSON.stringify(o)}]}).then(function(o){console.log(o),A()}),m.operation=""))}),f.$subscribe((C,s)=>{f.operation!=""&&(f.operation=="delete_complete"?(_({url:_.defaults.baseURL+"/bin/delete_uml",method:"post",headers:{"Content-Type":"application/json",Authorization:u.token},data:{uml_id:f.uml_id},transformRequest:[function(o,c){return JSON.stringify(o)}]}).then(function(o){console.log(o),A()}),f.operation=""):f.operation=="recover"&&(_({url:_.defaults.baseURL+"/bin/move_uml_from_bin",method:"post",headers:{"Content-Type":"application/json",Authorization:u.token},data:{uml_id:f.uml_id},transformRequest:[function(o,c){return JSON.stringify(o)}]}).then(function(o){console.log(o),A()}),f.operation=""))}),g.$subscribe((C,s)=>{g.operation!=""&&(g.operation=="delete_complete"?(_({url:_.defaults.baseURL+"/bin/delete_document",method:"post",headers:{"Content-Type":"application/json",Authorization:u.token},data:{document_id:g.document_id},transformRequest:[function(o,c){return JSON.stringify(o)}]}).then(function(o){console.log(o),A()}),g.operation=""):g.operation=="recover"&&(_({url:_.defaults.baseURL+"/bin/move_document_from_bin",method:"post",headers:{"Content-Type":"application/json",Authorization:u.token},data:{document_id:g.document_id},transformRequest:[function(o,c){return JSON.stringify(o)}]}).then(function(o){console.log(o),A()}),g.operation=""))});let $=0,k=0,D=0,B=0;const R=v([]),I=v([]),q=v([]),J=v([]);v([]);const Q=(C=!0)=>{_({url:_.defaults.baseURL+"/bin/get_projs_in_bin",method:"post",headers:{"Content-Type":"application/json",Authorization:u.token},data:{group_id:E.id},transformRequest:[function(s,o){return JSON.stringify(s)}]}).then(function(s){var o,c;if(console.log("!!!\u83B7\u53D6\u9879\u76EE\u6210\u529F"),(o=s.data)!=null&&o.success){$=(c=s.data)==null?void 0:c.count,$?d.value=!1:d.value=!0,console.log(s.data);let n=0;if(C)for(;R.length!=0;)R.pop();if(s.data!=null)for(n=0;n<$;n++){let x=v({group_id:s.data.projs[n].group_id,proj_id:s.data.projs[n].proj_id,proj_info:s.data.projs[n].proj_info,proj_name:s.data.projs[n].proj_name,status:s.data.projs[n].status,user_id:s.data.projs[n].user_id});console.log("  projectid"+x.proj_id),R.push(x)}console.log(R)}console.log(s.data)})},A=(C=!0)=>{_({url:_.defaults.baseURL+"/bin/get_files_in_bin",method:"post",headers:{"Content-Type":"application/json",Authorization:u.token},data:{group_id:E.id},transformRequest:[function(s,o){return JSON.stringify(s)}]}).then(function(s){var o,c;for(console.log(s);I.length!=0;)I.pop();for(;q.length!=0;)q.pop();for(;J.length!=0;)J.pop();if(B=s.data.count_documents,k=s.data.count_ppages,D=s.data.count_umls,B?r.value=!1:r.value=!0,k?w.value=!1:w.value=!0,D?y.value=!1:y.value=!0,(o=s.data)!=null&&o.success){for(let n=0;n<k;n++){let x=v({ppage_id:s.data.ppages[n].ppage_id,ppage_name:s.data.ppages[n].ppage_name});I.push(x)}for(let n=0;n<D;n++){let x=v({uml_id:s.data.umls[n].uml_id,uml_name:s.data.umls[n].uml_name,uml_url:s.data.umls[n].uml_url,status:s.data.umls[n].status});q.push(x)}for(let n=0;n<B;n++){let x=v({count:s.data.documents[n].count,document_id:s.data.documents[n].document_id,document_name:s.data.documents[n].document_name,document_url:s.data.documents[n].document_url,status:s.data.documents[n].status});J.push(x)}}else h.error((c=s.data)==null?void 0:c.message)})};return(C,s)=>{const o=i("n-image"),c=i("n-gi"),n=i("n-grid"),x=i("el-scrollbar"),se=i("n-layout-content");return b(),j(T,null,[l("div",Pe,[e(o,{width:"40",style:{"margin-top":"10px"},src:"svg\\trash_svg\\shape.svg"}),Re]),Te,l("div",ze,[O(l("div",Me,"\u6682\u65E0\u5DF2\u5220\u9664\u9879\u76EE",512),[[V,d.value]]),(b(!0),j(T,null,G(L(R),(S,P)=>(b(),j("div",{key:S.proj_id},[e(be,{oneProject:S},null,8,["oneProject"])]))),128))]),e(se,{"content-style":"padding: 24px;",style:{"background-color":"rgb(255, 255, 255, 0)"}},{default:t(()=>[e(n,{"x-gap":"50",cols:3,class:"fileTitle"},{default:t(()=>[e(c,null,{default:t(()=>[Ne]),_:1}),e(c,null,{default:t(()=>[Ie]),_:1}),e(c,null,{default:t(()=>[qe]),_:1})]),_:1}),e(n,{"x-gap":"50",cols:3,style:{"margin-top":"10px"}},{default:t(()=>[e(c,null,{default:t(()=>[l("div",Je,[e(x,{"max-height":"97%"},{default:t(()=>[O(l("div",Oe,"\u6682\u65E0\u5DF2\u5220\u9664\u539F\u578B\u9875\u9762",512),[[V,w.value]]),(b(!0),j(T,null,G(L(I),(S,P)=>(b(),j("div",{key:P,class:"scrollbar-demo-item"},[e(Fe,{"one-proto":S},null,8,["one-proto"])]))),128))]),_:1})])]),_:1}),e(c,null,{default:t(()=>[l("div",Ve,[e(x,{"max-height":"97%"},{default:t(()=>[O(l("div",Ge,"\u6682\u65E0\u5DF2\u5220\u9664UML\u56FE",512),[[V,y.value]]),(b(!0),j(T,null,G(L(q),(S,P)=>(b(),j("div",{key:P,class:"scrollbar-demo-item"},[e(Be,{"one-UML":S},null,8,["one-UML"])]))),128))]),_:1})])]),_:1}),e(c,null,{default:t(()=>[l("div",He,[e(x,{"max-height":"97%"},{default:t(()=>[O(l("div",Ke,"\u6682\u65E0\u5DF2\u5220\u9664\u6587\u6863",512),[[V,r.value]]),(b(!0),j(T,null,G(L(J),(S,P)=>(b(),j("div",{key:P,class:"scrollbar-demo-item"},[e($e,{"one-Doc":S},null,8,["one-Doc"])]))),128))]),_:1})])]),_:1})]),_:1})]),_:1})],64)}}});var Ze=X(Qe,[["__scopeId","data-v-751f00d4"]]);export{Ze as default};
